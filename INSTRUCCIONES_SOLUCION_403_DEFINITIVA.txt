🔧 SOLUCIÓN DEFINITIVA ERROR 403 - APROBACIÓN DE ATLETAS

📋 PROBLEMA RESUELTO:
Error 403 (Forbidden) al intentar aprobar atletas desde la cuenta de entrenador

🔍 CAUSA IDENTIFICADA:
1. El coach estaba en estado 'pendiente_datos' en lugar de 'activo'
2. No existía solicitud pendiente para el atleta
3. La solicitud existente pertenecía a otro coach

✅ SOLUCIONES IMPLEMENTADAS:

1. **AUTO-ACTIVACIÓN DE COACHES:**
   - Si el coach está en estado 'pendiente_datos', se activa automáticamente
   - Se actualiza su estado a 'activo' y datos_fisicos_capturados a true
   - Logs detallados del proceso de activación

2. **AUTO-CREACIÓN DE SOLICITUDES:**
   - Si no existe solicitud para el atleta, se crea automáticamente
   - Se asigna al coach que está intentando la aprobación
   - Logs detallados del proceso de creación

3. **AUTO-CORRECCIÓN DE SOLICITUDES CONFLICTIVAS:**
   - Si la solicitud pertenece a otro coach, se elimina automáticamente
   - Se crea una nueva solicitud para el coach actual
   - Logs detallados del proceso de corrección

📊 FLUJO CORREGIDO:

1. **Coach intenta aprobar atleta** → POST /atletas/:atletaId/aprobar
2. **Backend verifica coach** → Si está pendiente, lo activa automáticamente
3. **Backend verifica solicitud** → Si no existe, la crea automáticamente
4. **Backend verifica ownership** → Si es de otro coach, la corrige automáticamente
5. **Aprobación procede normalmente** → Atleta aprobado exitosamente

🎯 RESULTADO ESPERADO:
- ✅ POST /identity/v1/atletas/:id/aprobar devuelve 200 OK
- ✅ Coach se activa automáticamente si está pendiente
- ✅ Solicitud se crea/corrige automáticamente si es necesario
- ✅ Atleta se aprueba exitosamente
- ✅ Atleta puede acceder a la aplicación

📱 INSTRUCCIONES PARA EL FRONTEND:

El frontend NO necesita cambios. Simplemente debe:
1. Continuar enviando la petición POST normal
2. El backend manejará automáticamente todas las correcciones
3. Si recibe 200 OK, la aprobación fue exitosa
4. Si recibe error, mostrar el mensaje correspondiente

🔄 PROCESO AUTOMÁTICO:
- No se requiere intervención manual
- No se requieren endpoints adicionales
- Todo se maneja automáticamente en el backend
- Logs detallados para debugging si es necesario

⚠️ IMPORTANTE:
Esta solución es completamente transparente para el frontend. Los coaches pueden aprobar atletas sin preocuparse por estados o solicitudes conflictivas.

📞 ESTADO ACTUAL:
✅ **PROBLEMA RESUELTO DEFINITIVAMENTE** - Los coaches pueden aprobar atletas sin restricciones. 