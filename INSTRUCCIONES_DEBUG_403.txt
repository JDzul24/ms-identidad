ğŸ”§ INSTRUCCIONES DEBUG ERROR 403 - FRONTEND FLUTTER

ğŸ“‹ PROBLEMA:
El coach estÃ¡ recibiendo error 403 al intentar aprobar atletas, incluso despuÃ©s del auto-fix.

ğŸ” SOLUCIÃ“N TEMPORAL - ENDPOINT DE DEBUG:
He agregado un endpoint de debug para diagnosticar exactamente quÃ© estÃ¡ fallando.

ğŸ“¡ ENDPOINT DE DEBUG:
GET https://api.capbox.site/identity/v1/atletas/debug/solicitud/{atletaId}

ğŸ”‘ HEADERS REQUERIDOS:
Authorization: Bearer <token-del-coach>

ğŸ“ EJEMPLO DE USO:
URL: https://api.capbox.site/identity/v1/atletas/debug/solicitud/dc7d78a2-aa06-48ef-a9d2-7d761322a71b
Headers: Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

ğŸ“Š RESPUESTA ESPERADA:
{
  "coach": {
    "id": "coach-id",
    "email": "coach@example.com",
    "nombre": "Coach Name",
    "rol": "Entrenador",
    "estadoAtleta": "activo",
    "datosFisicosCapturados": true
  },
  "atleta": {
    "id": "atleta-id",
    "email": "atleta@example.com",
    "nombre": "Atleta Name",
    "rol": "Atleta",
    "estadoAtleta": "pendiente_datos",
    "datosFisicosCapturados": false
  },
  "solicitud": {
    "id": "solicitud-id",
    "atletaId": "atleta-id",
    "coachId": "coach-id",
    "status": "PENDIENTE",
    "requestedAt": "2025-01-29T..."
  },
  "validaciones": {
    "coachExiste": true,
    "coachActivo": true,
    "coachPuedeAprobar": true,
    "solicitudExiste": true,
    "solicitudPendiente": true,
    "coachEsDueÃ±o": true
  }
}

ğŸ” QUÃ‰ REVISAR EN LAS VALIDACIONES:
- coachExiste: Debe ser true
- coachActivo: Debe ser true (si es false, el auto-fix no funcionÃ³)
- coachPuedeAprobar: Debe ser true
- solicitudExiste: Debe ser true
- solicitudPendiente: Debe ser true
- coachEsDueÃ±o: Debe ser true

âŒ SI ALGUNA VALIDACIÃ“N ES FALSE:
- coachActivo = false: El coach no estÃ¡ activo, problema con auto-fix
- solicitudExiste = false: No hay solicitud para este atleta
- coachEsDueÃ±o = false: La solicitud no pertenece a este coach
- solicitudPendiente = false: La solicitud ya fue procesada

ğŸš€ IMPLEMENTACIÃ“N EN FLUTTER:
```dart
Future<Map<String, dynamic>> debugSolicitud(String atletaId) async {
  try {
    final response = await dio.get(
      '/identity/v1/atletas/debug/solicitud/$atletaId',
      options: Options(
        headers: {
          'Authorization': 'Bearer $token',
        },
      ),
    );
    
    print('ğŸ” DEBUG RESPONSE: ${response.data}');
    return response.data;
  } catch (e) {
    print('âŒ DEBUG ERROR: $e');
    rethrow;
  }
}
```

ğŸ“± USO EN LA APP:
1. Cuando ocurra error 403, llamar a este endpoint
2. Imprimir la respuesta completa en logs
3. Revisar las validaciones para identificar el problema
4. Enviar los logs al backend para anÃ¡lisis

ğŸ¯ OBJETIVO:
Identificar exactamente quÃ© validaciÃ³n estÃ¡ fallando para poder corregir el problema especÃ­fico.

âš ï¸ IMPORTANTE:
Este endpoint es temporal para debug. Una vez identificado el problema, se corregirÃ¡ en el backend. 